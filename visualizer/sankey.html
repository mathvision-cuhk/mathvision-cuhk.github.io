<!--
	此示例下载自 https://echarts.apache.org/examples/zh/editor.html?c=sankey-levels
-->
<!DOCTYPE html>
<html lang="en" style="height: 100%">

<head>
    <meta charset="utf-8">
</head>

<body style="height: 100%; margin: 0">
    <div id="container" style="height: 100%"></div>

    <script type="text/javascript" src="https://cdn.staticfile.org/jquery/3.7.1/jquery.min.js"></script>
    <script type="text/javascript"
        src="https://registry.npmmirror.com/echarts/5.4.3/files/dist/echarts.min.js"></script>

    <script type="text/javascript">
        var dom = document.getElementById('container');
        var myChart = echarts.init(dom, null, {
            renderer: 'canvas',
            useDirtyRect: false
        });
        var app = {};
        var ROOT_PATH = 'https://echarts.apache.org/examples';
        var option;

        myChart.showLoading();
        $.get('./sankey.json', function (data) {
            myChart.hideLoading();
            myChart.setOption(
                (option = {
                    title: {
                        text: ' '
                    },
                    tooltip: {
                        trigger: 'item',
                        triggerOn: 'mousemove'
                    },
                    series: [
                        {
                            type: 'sankey',
                            data: data.nodes,
                            links: data.links,
                            emphasis: {
                                focus: 'adjacency'
                            },
                            levels: [
                                {
                                    depth: 0,
                                    itemStyle: {
                                        color: '#fbb4ae'
                                    },
                                    lineStyle: {
                                        color: 'source',
                                        opacity: 0.6
                                    }
                                },
                                {
                                    depth: 1,
                                    itemStyle: {
                                        color: '#b3cde3'
                                    },
                                    lineStyle: {
                                        color: 'source',
                                        opacity: 0.6
                                    }
                                },
                                {
                                    depth: 2,
                                    itemStyle: {
                                        color: '#ccebc5'
                                    },
                                    lineStyle: {
                                        color: 'source',
                                        opacity: 0.6
                                    }
                                },
                                {
                                    depth: 3,
                                    itemStyle: {
                                        color: '#decbe4'
                                    },
                                    lineStyle: {
                                        color: 'source',
                                        opacity: 0.6
                                    }
                                }
                            ],
                            lineStyle: {
                                curveness: 0.5
                            }
                        }
                    ]
                })
            );
        });

        if (option && typeof option === 'object') {
            myChart.setOption(option);
        }

        window.addEventListener('resize', myChart.resize);
    </script>
</body>

</html>